@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
@using Admin.Models
@using Newtonsoft.Json;
@model List<news>
<div class="imain-content">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
        <legend>Category Management</legend>
    </fieldset>
    <button type="button" class="layui-btn btn-add">Add</button>
    <table class="layui-table" lay-even="" lay-skin="row">
        <thead>
            <tr>
                <th>Number</th>
                <th>Title</th>
                <th>Content</th>
                <th>Date</th>
                <th style="width:120px">Operation</th>
            </tr>
        </thead>
        <tbody>
            @{int i = 0; }
            @foreach (var c in Model)
            {
                i++;
                <tr>
                    <td>@i</td>
                    <td>@c.Title</td>
                    <td>@c.Content</td>
                    <td>@c.InsertDate</td>
                    <td>
                        <button type="button" class="layui-btn layui-btn-xs" onclick="edit(@JsonConvert.SerializeObject(c))">Edit</button>
                        <button type="button" class="layui-btn layui-btn-danger layui-btn-xs" onclick="del(@c.Id)">Remove</button>
                    </td>
                </tr>
            }

        </tbody>
    </table>
</div>
<div style="height:0;overflow:hidden">
    <div id="proEdit" style="padding:12px">
        <form class="layui-form" action="" lay-filter="example1">
            <input type="hidden" name="Id" />
            <div class="layui-form-item">
                <label class="layui-form-label">Title</label>
                <div class="layui-input-block">
                    <input type="text" name="Title"  autocomplete="off" placeholder="Title" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">Detail</label>
                <div class="layui-input-block">
                    <textarea name="Content" placeholder="Content" class="layui-textarea"></textarea>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">Picture</label>
                <div class="layui-input-block">
                    <div class="layui-upload">
                        <div class="layui-upload-list">
                            <img class="layui-upload-img" id="demo1" style="width: 110px;height: 110px;">
                            <p id="demoText"></p>
                        </div>
                        <button type="button" class="layui-btn" id="test1">Upload</button>
                    </div>  
                    <input type="hidden" id="ImgUrl" name="Img"/>
                </div>

            </div>
        </form>
    </div>
</div>
<script src="~/Scripts/Home/News.js"></script>